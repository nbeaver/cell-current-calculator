<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Cell current calculator.</title>
        <script type="text/javascript" src="current_calculator.js"></script>
    </head>
    <body>
        Filename: <input type="text" id="csv_filename" value="current_calculations.csv">
        <table id="calculator_table" >
            <tr>
                <td>Name</td>
                <td>Units</td>
                <td>Value</td>
            </tr>
            <tr>
                <td>Electrode total mass</td>
                <td>mg</td>
                <td><input id="mg_electrode" type="number" min="0" step="0.1" ></td>
            </tr>
            <tr>
                <td>Current collector mass</td>
                <td>mg</td>
                <td><input id="mg_current_collector" type="number" min="0" step="0.1" ></td>
            </tr>
            <tr>
                <td>Laminate mass</td>
                <td>mg</td>
                <td><output id="mg_laminate" for="mg_electrode mg_current_collector" ></td>
            </tr>
            <tr>
                <td>Percent active material</td>
                <td>mass %</td>
                <td><input id="percent_active_material" type="number" min="0" max="100" step="0.01" ></td>
            </tr>
            <tr>
                <td>Percent carbon</td>
                <td>mass %</td>
                <td><input id="percent_carbon" type="number" min="0" max="100" step=0.01 ></td>
            </tr>
            <tr>
                <td>Active material mass</td>
                <td>mg</td>
                <td><output id="mg_active_material" for="mg_laminate percent_active_material" ></td>
            </tr>
            <tr>
                <td>Carbon mass</td>
                <td>mg</td>
                <td><output id="mg_carbon" for="mg_laminate percent_carbon" ></td>
            </tr>
            <tr>
                <td>Active material capacity</td>
                <td>mAh/g</td>
                <td><input id="capacity_active_material" type="number" min="0" step="0.1" ></td>
            </tr>
            <tr>
                <td>Carbon capacity</td>
                <td>mAh/g</td>
                <td><input id="capacity_carbon" type="number" min="0" value="372" ></td>
            </tr>
            <tr>
                <td>Expected charge time</td>
                <td>hours</td>
                <td><input id="hours_charge_time" type="number" min="0" step=0.01 ></td>
            </tr>
            <tr>
                <td>Specific current (active)</td>
                <td>mA/g</td>
                <td><output id="mA_per_g_active_material" for="capacity_active_material hours_charge_time" ></td>
            </tr>
            <tr>
                <td>Active material current</td>
                <td>mA</td>
                <td><output id="mA_active_material" for="mg_active_material capacity_active_material hours_charge_time" ></td>
            </tr>
            <tr>
                <td>Carbon current</td>
                <td>mA</td>
                <td><output id="mA_carbon" for="mg_carbon capacity_carbon hours_charge_time" ></td>
            </tr>
            <tr>
                <td>Total current</td>
                <td>mA</td>
                <td><output id="mA_total" for="mA_active_material mA_carbon" ></td>
            </tr>
            <tr>
                <td>Electrode area</td>
                <td>cm<sup>2</sup></td>
                <td><input id="electrode_area" type="number" min="0" step="0.001" ></td>
            </tr>
            <tr>
                <td>Current density (active)</td>
                <td>mA/cm<sup>2</sup></td>
                <td><output id="current_density_active" for="mA_active_material electrode_area" ></td>
            </tr>
            <tr>
                <td>Current density (carbon)</td>
                <td>mA/cm<sup>2</sup></td>
                <td><output id="current_density_carbon" for="mA_carbon electrode_area" ></td>
            </tr>
            <tr>
                <td>Current density (total)</td>
                <td>mA/cm<sup>2</sup></td>
                <td><output id="current_density_total" for="mA_total electrode_area" ></td>
            </tr>
        </table>
        <button id="download_csv_button">Download CSV</button>
    </body>
</html>
